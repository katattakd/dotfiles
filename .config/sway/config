# make things look nice
#output * bg #191919 solid_color
default_border none
default_floating_border none
gaps inner 10
gaps outer -2

# screen locking
exec swayidle -w \
	timeout 600 'swaylock' \
	timeout 660 'swaymsg "output * dpms off"' \
		resume 'swaymsg "output * dpms on"' \
	before-sleep 'swaylock'

# status bar
client.focused #00ffff #00ffff #262626 #00ffff
client.focused_inactive #00d6d6 #00d6d6 #262626 #00d6d6
client.unfocused #5f5f5f #5f5f5f #afafaf #5f5f5f
client.urgent #ff386a #ff386a #262626 #ff386a

# top bar
bar {
	position top
	status_command bash ~/.config/sway/status.sh
	separator_symbol |
	colors {
		statusline #afafaf
		background #262626
		urgent_workspace #ff386a #ff386a #262626
		focused_workspace #00ffff #00ffff #262626
		active_workspace #00d6d6 #00d6d6 #262626
		inactive_workspace #5f5f5f #5f5f5f #afafaf
	}
	status_padding 4
	status_edge_padding 10
}

# fix input methods
input type:touchpad {
	dwt enabled
	tap enabled
	natural_scroll enabled
	middle_emulation enabled
}
input type:pointer {
	accel_profile flat
}

# fix multi-display
set $laptop eDP-1
bindswitch --reload lid:on output $laptop disable
bindswitch --reload lid:off output $laptop enable

# fix app launcher
for_window [title="katlauncher-sway"] floating enable
for_window [title="katlauncher-sway"] border pixel 1

# keybinds
set $mod Mod4

bindsym $mod+t exec termite
bindsym $mod+Shift+t exec 'MOZ_ENABLE_WAYLAND=1 firefox'
bindsym $mod+Return exec 'termite -t katlauncher-sway -e "$HOME/.config/sway/launcher.sh"'
bindsym $mod+p exec 'grim -g \"$(slurp)" ~/screenshot_$(date +%s).png'
bindsym $mod+Shift+p exec 'grim -c ~/screenshot_$(date +%s).png'
bindsym $mod+l exec swaylock

bindsym $mod+q kill
bindsym $mod+c layout toggle
bindsym $mod+b border toggle
bindsym $mod+s sticky toggle
bindsym $mod+f floating toggle
bindsym $mod+Shift+f fullscreen

bindsym $mod+minus move scratchpad
bindsym $mod+Shift+minus scratchpad show

bindsym $mod+Shift+r reload
bindsym $mod+Shift+q exec swaymsg exit

bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

mode "resize" {
	bindsym Left resize shrink width 20px
	bindsym Down resize grow height 20px
	bindsym Up resize shrink height 20px
	bindsym Right resize grow width 20px
	bindsym Shift+Left move left 20px
        bindsym Shift+Down move down 20px
        bindsym Shift+Up move up 20px
        bindsym Shift+Right move right 20px
	bindsym Return mode "default"
	bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

mode "cursor" {
	bindsym Left focus left
	bindsym Down focus down
	bindsym Up focus up
	bindsym Right focus right
	bindsym Shift+Left move left
	bindsym Shift+Down move down
	bindsym Shift+Up move up
	bindsym Shift+Right move right
	bindsym t focus mode_toggle
	bindsym p focus parent
	bindsym Return mode "default"
	bindsym Escape mode "default"
}
bindsym $mod+x mode "cursor"
